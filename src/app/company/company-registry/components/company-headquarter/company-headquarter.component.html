<div class="container-fluid pt-2 pb-2 ps-3 pe-3 ps-md-4 pe-md-4" style="max-width: 1400px;">

    <!-- LEGAL HEADQUARTER -->
    <div class="row justify-content-start align-items-center mb-2" style="border-bottom: 1px solid lightgray; color: #002D5D;">
        <div class="col-12 subtitle">
            {{"COMPANY.DATA.INFO" | translate}}
            <i class="bi bi-pencil ms-2" (click)="modifyHeadquarterPopup(1)"></i>
        </div>
    </div>
    <div [formGroup]="companyLegalHeadquarterForm"
        class="row justify-content-start align-items-end mb-2 ps-0 ps-sm-3 ps-md-1 ps-lg-4 pe-0 pe-sm-3 pe-md-1 pe-lg-4">

        <!-- COUNTRY -->
        <div class="col-12 col-sm-6 col-md-5 col-lg-3">
            <label class="form-label" for="country">
                {{"COMPANY.HEADQUARTER.COUNTRY" | translate}}
            </label>
            <select class="form-select" name="country" id="country" formControlName="country"
                (change)="selectedCountry()">
                <option [ngValue]="null">--</option>
                <option *ngFor="let country of countriesList" [ngValue]="country.id">
                    {{country.common_name}}
                </option>
            </select>
        </div>

        <!-- MUNICIPALITY -->
        <div *ngIf="companyLegalHeadquarterForm.get('country')?.value == 12; else notItalianBlock"
            class="col-8 col-sm-6 col-md-4 col-lg-3">
            <label class="form-label" for="municipality">{{"COMPANY.HEADQUARTER.MUNICIPALITY" | translate }}</label>
            <input type="text" matInput [matAutocomplete]="city" class="form-control" id="municipality"
                formControlName="municipality"
                [class.is-invalid]="companyLegalHeadquarterForm.get('municipality')?.invalid && submitted">
            <mat-autocomplete #city="matAutocomplete" [displayWith]="displayCityName">
                <mat-option *ngFor="let option of filteredCities$ | async" [value]="option">
                    <div>
                        {{option.name}}
                    </div>
                </mat-option>
            </mat-autocomplete>
        </div>
        <ng-template #notItalianBlock>
            <div class="col-8 col-sm-6 col-md-4 col-lg-3">
                <label class="form-label" for="municipality">
                    {{"COMPANY.HEADQUARTER.MUNICIPALITY" | translate}}
                </label>
                <input class="form-control" type="text" id="municipality" formControlName="municipality">
            </div>
        </ng-template>

        <!-- POSTAL CODE -->
        <div class="col-4 col-md-2">
            <label for="postalcode" class="form-label">
                {{"COMPANY.HEADQUARTER.POSTALCODE" | translate }}
            </label>
            <input type="text" class="form-control" id="postalcode" formControlName="postalcode">
        </div>

        <!-- PROVINCE -->
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <label for="province" class="form-label">
                {{"COMPANY.HEADQUARTER.PROVINCE" | translate }}
            </label>
            <input type="text" class="form-control" id="province" formControlName="province">
        </div>

        <!-- STREET -->
        <div class="col-10 col-md-6">
            <label for="street" class="form-label">
                {{"COMPANY.HEADQUARTER.STREET" | translate }}
            </label>
            <input type="text" class="form-control" id="street" formControlName="street">
        </div>

        <!-- STREETNUMBER -->
        <div class="col-2 col-lg-1">
            <label for="street_number" class="form-label">
                {{"COMPANY.HEADQUARTER.STREETNUMBER" | translate }}
            </label>
            <input type="text" class="form-control" id="street_number" formControlName="street_number">
        </div>
    </div>

    <!-- HEADQUARTER BUILDING -->
    <div class="row justify-content-start align-items-center mt-4 mb-2" style="border-bottom: 1px solid lightgray; color: #002D5D;">
        <div class="col-12 subtitle">
            {{"COMPANY.HEADQUARTER.COMPANYBUILDING" | translate}}
            <i class="bi bi-pencil ms-2" (click)="modifyHeadquarterPopup(2)"></i>
        </div>
    </div>
    <div [formGroup]="companyBuildingForm"
        class="row justify-content-start align-items-end mb-2 ps-0 ps-sm-3 ps-md-1 ps-lg-4 pe-0 pe-sm-3 pe-md-1 pe-lg-4">

        <!-- COUNTRY -->
        <div class="col-12 col-sm-6 col-md-5 col-lg-3">
            <label class="form-label" for="country">
                {{"COMPANY.HEADQUARTER.COUNTRY" | translate}}
            </label>
            <select class="form-select" name="idcountry" id="country" formControlName="country"
                (change)="selectedCountry()">
                <option [ngValue]="null">--</option>
                <option *ngFor="let country of countriesList" [ngValue]="country.id">
                    {{country.common_name}}
                </option>
            </select>
        </div>

        <!-- MUNICIPALITY -->
        <div *ngIf="companyLegalHeadquarterForm.get('country')?.value == 12; else notItalianBlock"
            class="col-8 col-sm-6 col-md-4 col-lg-3">
            <label class="form-label" for="municipality">{{"COMPANY.HEADQUARTER.MUNICIPALITY" | translate }}</label>
            <input type="text" matInput [matAutocomplete]="city" class="form-control" id="municipality"
                formControlName="municipality"
                [class.is-invalid]="companyLegalHeadquarterForm.get('municipality')?.invalid && submitted">
            <mat-autocomplete #city="matAutocomplete" [displayWith]="displayCityName">
                <mat-option *ngFor="let option of filteredCities$ | async" [value]="option">
                    <div>
                        {{option.name}}
                    </div>
                </mat-option>
            </mat-autocomplete>
        </div>
        <ng-template #notItalianBlock>
            <div class="col-8 col-sm-6 col-md-4 col-lg-3">
                <label class="form-label" for="municipality">
                    {{"COMPANY.HEADQUARTER.MUNICIPALITY" | translate}}
                </label>
                <input class="form-control" type="text" id="municipality" formControlName="municipality">
            </div>
        </ng-template>

        <!-- POSTAL CODE -->
        <div class="col-4 col-md-2">
            <label for="postalcode" class="form-label">
                {{"COMPANY.HEADQUARTER.POSTALCODE" | translate }}
            </label>
            <input type="text" class="form-control" id="postalcode" formControlName="postalcode">
        </div>

        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <label for="province" class="form-label">
                {{"COMPANY.HEADQUARTER.PROVINCE" | translate }}
            </label>
            <input type="text" class="form-control" id="province" formControlName="province">
        </div>

        <!-- STREET -->
        <div class="col-10 col-md-6">
            <label for="street" class="form-label">
                {{"COMPANY.HEADQUARTER.STREET" | translate }}
            </label>
            <input type="text" class="form-control" id="street" formControlName="street">
        </div>

        <!-- STREET NUMBER -->
        <div class="col-2 col-lg-1">
            <label for="street_number" class="form-label">
                {{"COMPANY.HEADQUARTER.STREETNUMBER" | translate }}
            </label>
            <input type="text" class="form-control" id="street_number" formControlName="street_number">
        </div>
    </div>

    <!-- REA -->
    <div class="row justify-content-start align-items-center mt-4 mb-2" style="border-bottom: 1px solid lightgray; color: #002D5D;">
        <div class="col-12 subtitle">
            {{"COMPANY.HEADQUARTER.REA" | translate}}
            <i class="bi bi-pencil ms-2" (click)="modifyHeadquarterPopup(3)"></i>
        </div>
    </div>
    <div [formGroup]="companyReaForm"
        class="row justify-content-start align-items-end mb-2 ps-0 ps-sm-3 ps-md-1 ps-lg-4 pe-0 pe-sm-3 pe-md-1 pe-lg-4">

        <!-- REA NUMBER -->
        <div class="col-8 col-sm-4 col-md-2">
            <label for="number" class="form-label">
                {{"COMPANY.HEADQUARTER.REANUMBER" | translate }}
            </label>
            <input type="text" class="form-control" id="number" formControlName="number">
        </div>

        <!-- PROVINCE -->
        <div class="col-12 col-sm-8 col-md-5 col-lg-3">
            <label class="form-label" for="province">
                {{"COMPANY.HEADQUARTER.PROVINCE" | translate}}
            </label>
            <select class="form-select" id="province" formControlName="province">
                <option [ngValue]="null">--</option>
                <option *ngFor="let province of provinceList" [ngValue]="province.id">
                    {{province.name}}
                </option>
            </select>
        </div>

        <!-- ASSETS -->
        <div class="col-12 col-sm-8 col-md-5 col-lg-4">
            <label for="assets" class="form-label">
                {{"COMPANY.HEADQUARTER.ASSETS" | translate }}
            </label>
            <input type="text" class="form-control" id="assets" formControlName="assets">
        </div>

        <!-- SOLE SHAREHOLDER -->
        <div class="col-12 col-md-6 mt-2">
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="sole_shareholder" formControlName="sole_shareholder">
                <label for="sole_shareholder" class="form-check-label">
                    {{"COMPANY.HEADQUARTER.SOLESHAREHOLDER" | translate }}
                </label>
            </div>
        </div>

        <!-- CLOSURE -->
        <div class="col-12 col-md-6 mt-2">
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="closure" formControlName="closure">
                <label for="closure" class="form-check-label">
                    {{"COMPANY.HEADQUARTER.CLOSURE" | translate }}
                </label>
            </div>
        </div>
    </div>
</div>