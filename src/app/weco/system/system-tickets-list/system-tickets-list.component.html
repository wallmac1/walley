<div class="container-fluid p-1 p-md-2 p-lg-3 p-xl-4" style="min-width: 350px; min-height: 90vh;">
    <div class="row justify-content-center align-items-center">
        <div class="col-12" style="max-width: 1600px;">
            <mat-expansion-panel expanded>
                <mat-expansion-panel-header class="cutomPanelHeader">
                    <mat-panel-title>
                        <span class="panelTitle">
                            {{"SYSTEM.TICKETLIST.TICKETLIST" | translate}}
                            <i class="bi bi-plus-circle ms-2" (click)="createTicket()"></i>
                        </span>
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <div class="row justify-content-center">
                    <div class="col-12 table-container mt-4 p-0">
                        <table mat-table [dataSource]="dataSource" class="mat-table pb-2"
                            matSort matSortActive="status" matSortDisableClear matSortDirection="desc"
                            style="width: 600px;">

                            <!-- Id Column -->
                            <ng-container matColumnDef="id">
                                <th class="text-center sticky-column-left" mat-header-cell *matHeaderCellDef> 
                                    {{"SYSTEM.TICKETLIST.ID" | translate}} 
                                </th>
                                <td mat-cell class="text-center sticky-column-left ps-1 pe-1" *matCellDef="let element"> {{element.id}} </td>
                            </ng-container>

                            <!-- Progressive Date Number Column -->
                            <ng-container matColumnDef="num_date">
                                <th mat-header-cell class="text-center ps-1 pe-1 sticky-column-left-2" *matHeaderCellDef style="width: 130px;"> 
                                    {{"SYSTEM.TICKETLIST.DATE" | translate}} 
                                </th>
                                <td mat-cell class="text-center ps-1 pe-1 sticky-column-left-2" *matCellDef="let element" style="width: 130px;"> {{element.num_date}} </td>
                            </ng-container>

                            <!-- Status Column -->
                            <ng-container matColumnDef="status">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear
                                    style="width: 160px;"> 
                                    {{"SYSTEM.TICKETLIST.STATUS" | translate}} 
                                </th>
                                <td mat-cell *matCellDef="let element" class="ps-2 pe-2" style="width: 160px;">
                                    <i class="bi bi-circle-fill me-1"
                                        [ngStyle]="{'color': '#'+element.status.color}"></i>
                                    {{element.status.name}}
                                </td>
                            </ng-container>

                            <!-- Message Column -->
                            <ng-container matColumnDef="message">
                                <th mat-header-cell *matHeaderCellDef style="width: 520px;"> 
                                    {{"SYSTEM.TICKETLIST.MESSAGE" | translate}} 
                                </th>
                                <td mat-cell class="truncate-text" *matCellDef="let element"
                                    style="width: 520px;"> 
                                    {{element.message}} 
                                </td>
                            </ng-container>

                            <!-- User Created Column -->
                            <ng-container matColumnDef="user_created">
                                <th mat-header-cell *matHeaderCellDef style="width: 240px;"> 
                                    {{"SYSTEM.TICKETLIST.USERCREATED" | translate}} 
                                </th>
                                <td mat-cell *matCellDef="let element" style="width: 240px;"> {{element.user_created.nickname}} </td>
                            </ng-container>

                            <!-- In Charge Column -->
                            <ng-container matColumnDef="incharge" stickyEnd>
                                <th mat-header-cell *matHeaderCellDef style="width: 240px;"> 
                                    {{"SYSTEM.TICKETLIST.INCHARGE" | translate}} 
                                </th>
                                <td mat-cell *matCellDef="let element" style="width: 240px;"> 
                                    {{element.incharge.nickname}} 
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                    </div>
                </div>
            </mat-expansion-panel>
        </div>
    </div>
</div>